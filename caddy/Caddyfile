# Replace yourdomain.com with your actual domain
# For local testing, you can use localhost

:80 {
    # Redirect HTTP to HTTPS
    redir https://{host}{uri} permanent
}

:443 {
    # Reverse proxy to Next.js
    reverse_proxy localhost:3000
    
    # Automatic HTTPS
    tls internal
    
    # For production with a real domain, use:
    # tls your-email@example.com
    
    # Logging
    log {
        output file /var/log/caddy/access.log
    }
}

# You can also use this simpler format if you prefer:
# yourdomain.com {
#     reverse_proxy localhost:3000
# }
