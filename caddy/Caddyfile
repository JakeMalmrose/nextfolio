# Global configuration
{
    # Enable automatic HTTPS for domains
    # email is used for Let's Encrypt account
    email jake.malmrose@gmail.com
}

# Domain configuration for malmrose.com (both www and non-www)
malmrose.com, www.malmrose.com, :80 {
    # Route /llm path to openwebui
    handle_path /llm* {
        reverse_proxy openwebui
    }
    
    # Route everything else to Next.js
    handle {
        reverse_proxy nextjs:3000
    }
    
    # Automatic HTTPS with Let's Encrypt
    # tls {
    #     # This will issue certificates automatically
    # }
    
    # Logging
    # log {
    #     output file /var/log/caddy/access.log
    # }
}
